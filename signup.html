        <!DOCTYPE html>
        <html lang="en">

        <head>
            <meta charset="UTF-8">
            <title>QPaper AI – Login / Sign Up</title>
            <script src="https://cdn.tailwindcss.com"></script>
        </head>

        <body
            class="bg-gradient-to-br from-blue-50 via-blue-100 to-blue-200 flex items-center justify-center min-h-screen font-sans">

            <!-- Auth Card -->
            <div class="max-w-md w-full bg-white/80 backdrop-blur-xl shadow-2xl rounded-3xl p-8 relative overflow-hidden">
                <!-- Decorative Gradient Blob -->
                <div
                    class="absolute -top-20 -right-20 w-60 h-60 bg-gradient-to-tr from-blue-300 to-purple-300 rounded-full blur-3xl opacity-40">
                </div>

                <!-- Logo + Name -->
                <div class="flex flex-col items-center mb-6 relative z-10">
                    <img src="logo.png" alt="QPaper AI Logo" class="h-12 mb-2">
                    <a href="#" class="text-2xl font-extrabold text-blue-600 hover:scale-105 transition-transform">QPaper AI</a>
                </div>

                <!-- Heading -->
                <h2 class="text-xl font-semibold text-center text-gray-800">Welcome Back</h2>
                <p class="text-sm text-gray-500 text-center mb-6">Login securely to continue</p>

                <!-- Google Login -->
                <button id="googleLoginBtn"
                    class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 py-3 rounded-xl shadow-sm hover:shadow-md transition font-medium text-gray-700 mb-5">
                    <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="h-5 w-5" alt="Google">
                    Continue with Google
                </button>

                <!-- Divider -->
                <div class="flex items-center mb-6">
                    <hr class="flex-grow border-gray-300">
                    <span class="px-3 text-sm text-gray-400">or</span>
                    <hr class="flex-grow border-gray-300">
                </div>

                <!-- Email + Password -->
                <form id="loginForm" class="space-y-5 relative z-10">
                    <div class="relative">
                        <input id="email" type="email" placeholder=" "
                            class="peer w-full px-3 pt-5 pb-2 border rounded-xl focus:ring-2 focus:ring-blue-400 focus:outline-none transition bg-transparent">
                        <label for="email"
                            class="absolute left-3 top-2 text-gray-400 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm peer-focus:text-blue-600">
                            Email
                        </label>
                    </div>

                    <div class="relative">
                        <input id="password" type="password" placeholder=" "
                            class="peer w-full px-3 pt-5 pb-2 border rounded-xl focus:ring-2 focus:ring-blue-400 focus:outline-none transition bg-transparent">
                        <label for="password"
                            class="absolute left-3 top-2 text-gray-400 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm peer-focus:text-blue-600">
                            Password
                        </label>
                        <button type="button" onclick="togglePassword()"
                            class="absolute right-3 top-3 text-gray-400 hover:text-gray-600">
                            <svg id="eyeOpen" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" class="w-5 h-5">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                            </svg>
                            <svg id="eyeSlash" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" class="w-5 h-5 hidden">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.956 9.956 0 012.708-4.419M6.223 6.223A9.956 9.956 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.956 9.956 0 01-3.132 4.411M15 12a3 3 0 11-6 0 3 3 0 016 0zM3 3l18 18" />
                            </svg>
                        </button>
                    </div>

                    <p id="errorMsg" class="text-sm text-red-500 hidden"></p>

                    <div class="flex justify-between items-center text-sm">
                        <a href="#" onclick="showResetModal()" class="text-blue-600 hover:underline">Forgot password?</a>
                    </div>

                    <button type="submit"
                        class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-semibold shadow-md hover:opacity-90 transition">
                        Log In
                    </button>
                </form>

                <p class="text-sm text-center text-gray-600 mt-6">
                    Don’t have an account?
                    <a href="#" onclick="showSignupModal()" class="text-blue-600 hover:underline">Create one</a>
                </p>

                <div class="mt-8 text-xs text-gray-500 text-center">
                    <a href="terms.html" class="hover:underline">Terms of Service</a> •
                    <a href="privacy.html" class="hover:underline">Privacy Policy</a>
                </div>
            </div>

            <!-- Modal -->
            <div id="modal" class="fixed inset-0 bg-black/40 flex items-center justify-center hidden z-50">
                <div class="bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl">
                    <h3 id="modalTitle" class="text-lg font-semibold mb-4">Modal</h3>
                    <input id="modalEmail" type="email" placeholder="Email"
                        class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-400 mb-3">
                    <input id="modalPassword" type="password" placeholder="Password"
                        class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-400 mb-3 hidden">
                    <button id="modalAction"
                        class="w-full bg-blue-600 text-white py-2 rounded-xl hover:bg-blue-700 transition">Confirm</button>
                    <button onclick="closeModal()" class="w-full mt-2 text-gray-500 hover:text-gray-700">Cancel</button>
                </div>
            </div>

            <!-- Firebase v9+ SDK -->
            <script type="module">
                // Import Firebase modules
                import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
                import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
                import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";

                // Firebase config
                const firebaseConfig = {
                    apiKey: "AIzaSyANITCS9Tl9C8XC-1GhvRpLhUvmy_tNtxs",
                    authDomain: "qpaper-51ca7.firebaseapp.com",
                    projectId: "qpaper-51ca7",
                    storageBucket: "qpaper-51ca7.appspot.com",
                    messagingSenderId: "1072763550460",
                    appId: "1:1072763550460:web:4aae951dfe409581517579",
                    measurementId: "G-1VMES9QFP1"
                };

                const app = initializeApp(firebaseConfig);
                const analytics = getAnalytics(app);
                const auth = getAuth();

                // Sign out any existing user on page load (for fresh login)
                import { signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
                signOut(auth);



                onAuthStateChanged(auth, user => { if (user) window.location.href = "dashboard.html"; });

                function togglePassword() {
                    const pwd = document.getElementById("password");
                    const eyeOpen = document.getElementById("eyeOpen");
                    const eyeSlash = document.getElementById("eyeSlash");

                    if (pwd.type === "password") {
                        pwd.type = "text";       // show password
                        eyeOpen.classList.add("hidden");
                        eyeSlash.classList.remove("hidden");
                    } else {
                        pwd.type = "password";   // hide password
                        eyeOpen.classList.remove("hidden");
                        eyeSlash.classList.add("hidden");
                    }
                }
                window.togglePassword = togglePassword;

                document.getElementById("googleLoginBtn").addEventListener("click", async () => {
                    const provider = new GoogleAuthProvider();
                    try { await signInWithPopup(auth, provider); }
                    catch (err) { showError(err.message); }
                });

                document.getElementById("loginForm").addEventListener("submit", async e => {
                    e.preventDefault();
                    try {
                        await signInWithEmailAndPassword(auth,
                            document.getElementById("email").value,
                            document.getElementById("password").value
                        );
                    } catch (err) { showError(err.message); }
                });

                function showSignupModal() {
                    const modal = document.getElementById("modal");
                    modal.classList.remove("hidden");
                    document.getElementById("modalTitle").textContent = "Create Account";
                    document.getElementById("modalPassword").classList.remove("hidden");
                    document.getElementById("modalAction").onclick = async () => {
                        try {
                            await createUserWithEmailAndPassword(auth,
                                document.getElementById("modalEmail").value,
                                document.getElementById("modalPassword").value
                            );
                            closeModal();
                        } catch (err) { showError(err.message); }
                    };
                }

                function showResetModal() {
                    const modal = document.getElementById("modal");
                    modal.classList.remove("hidden");
                    document.getElementById("modalTitle").textContent = "Reset Password";
                    document.getElementById("modalPassword").classList.add("hidden");
                    document.getElementById("modalAction").onclick = async () => {
                        try {
                            await sendPasswordResetEmail(auth, document.getElementById("modalEmail").value);
                            alert("Password reset email sent!");
                            closeModal();
                        } catch (err) { showError(err.message); }
                    };
                }

                function closeModal() { document.getElementById("modal").classList.add("hidden"); }
                function showError(msg) {
                    const err = document.getElementById("errorMsg");
                    err.textContent = msg;
                    err.classList.remove("hidden");
                }

            </script>

        </body>

        </html>